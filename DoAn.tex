\documentclass[a4paper,13pt,3p,oneside]{report}
\usepackage{scrextend}
\changefontsizes{13pt}
\usepackage[utf8]{inputenc}
\usepackage[T5]{fontenc}
\usepackage[vietnamese]{babel}
\pretolerance=100
\tolerance=500
\emergencystretch=3em
\raggedbottom
\usepackage[top=2cm, bottom=2cm, left=3.5cm, right=2.5cm]{geometry}

\usepackage{graphicx} % Cho phép chèn hình ảnh
\usepackage{subcaption}
\usepackage{fancybox} % Tạo khung box
\usepackage{indentfirst} % Thụt đầu dòng ở dòng đầu tiên trong đoạn
\usepackage{amsthm} % Cho phép thêm các môi trường định nghĩa
\usepackage{latexsym} % Các kí hiệu toán học
\usepackage{amsmath} % Hỗ trợ một số biểu thức toán học
\usepackage{amssymb} % Bổ sung thêm kí hiệu về toán học
\usepackage{amsbsy} % Hỗ trợ các kí hiệu in đậm
\usepackage{times} % Chọn font Times New Roman
\usepackage{array} % Tạo bảng array
\usepackage{enumitem} % Cho phép thay đổi kí hiệu của list
\usepackage{subfiles} % Chèn các file nhỏ, giúp chia các chapter ra nhiều file hơn
\usepackage{titlesec} % Giúp chỉnh sửa các tiêu đề, đề mục như chương, phần,..
\usepackage{titletoc}
\usepackage{chngcntr} % Dùng để thiết lập lại cách đánh số caption,..
\usepackage{pdflscape} % Đưa các bảng có kích thước đặt theo chiều ngang giấy
\usepackage{afterpage}
\usepackage[ruled,vlined]{algorithm2e}  % Hỗ trợ viết các giải thuật
\usepackage{capt-of} % Cho phép sử dụng caption lớn đối với landscape page
\usepackage{multirow} % Merge cells
\usepackage{fancyhdr} % Cho phép tùy biến header và footer
\usepackage{appendix}
\usepackage{subfiles}
\usepackage{vietnam}
\usepackage[font=small,labelfont=bf]{caption}
\usepackage{fancyvrb}
\usepackage{listings}
\usepackage{float}
\usepackage{subcaption}
\usepackage{xurl}
\usepackage{changepage}
<<<<<<< HEAD
=======

>>>>>>> e99cf771c83e18ae8ecc6bb8d6dc5eff79ee4fb1
\usepackage[nonumberlist, nopostdot, nogroupskip, acronym]{glossaries}
\usepackage{glossary-superragged}
\setglossarystyle{superraggedheaderborder}
\usepackage{setspace}
\usepackage{parskip}

% package content table
\usepackage{tocbasic}

\usepackage{blindtext}

% ===================================================

\include{lstlisting} % Phần này cho phép chèn code và formatting code như C, C++, Python

\input{Tu_viet_tat}

% ===================================================

\fancypagestyle{plain}{%
\fancyhf{} % clear all header and footer fields
\fancyfoot[RO,RE]{\thepage} %RO=right odd, RE=right even
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}}

\setlength{\headheight}{10pt}

\def \TITLE{ĐỒ ÁN TỐT NGHIỆP}
\def \AUTHOR{NGUYỄN VĂN ABC}

% ===================================================
\titleformat{\chapter}[hang]{\centering\bfseries}{PHẦN \thechapter.\ }{0pt}{}[]

\titleformat 
    {\chapter} % command
    [hang] % shape
    {\centering\bfseries} % format
    {PHẦN \thechapter.\ } % label
    {0pt} %sep
    {} % before
    [] % after
\titlespacing*{\chapter}{0pt}{-20pt}{20pt}

\titleformat
    {\section} % command
    [hang] % shape
    {\bfseries} % format
    {\thechapter.\arabic{section}\ \ \ \ } % label
    {0pt} %sep
    {} % before
    [] % after
\titlespacing{\section}{0pt}{\parskip}{0.5\parskip}

\titleformat
    {\subsection} % command
    [hang] % shape
    {\bfseries} % format
    {\thechapter.\arabic{section}.\arabic{subsection}\ \ \ \ } % label
    {0pt} %sep
    {} % before
    [] % after
\titlespacing{\subsection}{30pt}{\parskip}{0.5\parskip}

\renewcommand\thesubsubsection{\alph{subsubsection}}
\titleformat
    {\subsubsection} % command
    [hang] % shape
    {\bfseries} % format
    {\alph{subsubsection}, \ } % label
    {0pt} %sep
    {} % before
    [] % after
    
\titlespacing{\subsubsection}{50pt}{\parskip}{0.5\parskip}

\lstdefinelanguage{Dart}{
  morekeywords={abstract, as, assert, async, await, break, case, catch, class, const, continue, covariant, default, deferred, do, dynamic, else, enum, export, extends, extension, external, factory, false, final, finally, for, Function, get, hide, if, implements, import, in, interface, is, late, library, mixin, new, null, on, operator, part, required, rethrow, return, set, show, static, super, switch, sync, this, throw, true, try, typedef, var, void, while, with, yield},
  sensitive=true,
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]",
  morestring=[b]'
}

\lstset{
  language=Dart,
  inputencoding=utf8,
  extendedchars=true,
  basicstyle=\small\ttfamily,
  breaklines=true,
  columns=fullflexible,
  keepspaces=true,
  showstringspaces=false, 
  upquote=true,           
  xleftmargin=2em,
  aboveskip=1em,
  belowskip=1em,
  lineskip=1.6ex,
}


\DefineVerbatimEnvironment{myverbatim}{Verbatim}{%
    fontsize=\small,
    framesep=3mm,
    xleftmargin=2.0em,
    baselinestretch=1.4,
    samepage=true
}

% ===================================================
\usepackage{hyperref}
\hypersetup{pdfborder = {0 0 0}} %
\hypersetup{pdftitle={\TITLE},
	pdfauthor={\AUTHOR}}
	
\usepackage[all]{hypcap} % Cho phép tham chiếu chính xác đến hình ảnh và bảng biểu

\graphicspath{{figures/}{../figures/}} % Thư mục chứa các hình ảnh

\counterwithin{figure}{chapter} % Đánh số hình ảnh kèm theo chapter. Ví dụ: Hình 1.1, 1.2,..

\title{\bf \TITLE}
\author{\AUTHOR}

\setcounter{secnumdepth}{3} % Cho phép subsubsection trong report

\theoremstyle{definition}
\newtheorem{example}{Ví dụ}[chapter] % Định nghĩa môi trường ví dụ

\onehalfspacing
%Khoảng cách xuống dòng
\setlength{\parskip}{6pt}
%Lùi đầu dòng
\setlength{\parindent}{15pt}

\makeatletter
\renewcommand\chaptermark[1]{%
  \markboth{\MakeUppercase{%
    \ifnum \c@secnumdepth >\m@ne
      \if@mainmatter
        PHẦN~\thechapter.\ \ %
      \fi
    \fi
    #1}}{}}%
\makeatother

% =========================== BODY ===============
\begin{document}
\subfile{Bia} % Phần bìa

% ===================================================
\pagenumbering{roman}
\newpage
\pagenumbering{gobble}
\newpage

% ===================================================
\titleformat{\chapter}[hang]{\centering\bfseries\large}{PHẦN \thechapter.\ }{0pt}{}[]

\newpage
\pagenumbering{roman} % Xóa page numbering ở cuối trang
\renewcommand*\contentsname{MỤC LỤC}

\titlecontents{chapter}
    [0.0cm]             % left margin
    {\bfseries\vspace{0.3cm}}                  % above code
    {{\bfseries{\scshape}
<<<<<<< HEAD
    PHẦN \thecontentslabel.\ }}
=======
    CHƯƠNG \thecontentslabel.\ }}
>>>>>>> e99cf771c83e18ae8ecc6bb8d6dc5eff79ee4fb1
    % numbered format
    {}         % unnumbered format
    {\titlerule*[0.3pc]{.}\contentspage}         % filler-page-format, e.g dots

\titlecontents{section}
    [0.0cm]             % left margin
    {\vspace{0.3cm}}                  % above code
    {\thecontentslabel \ } % numbered format
    {}         % unnumbered format
    {\titlerule*[0.3pc]{.}\contentspage}         % filler-page-format, e.g dots
    
\titlecontents{subsection}
    [1.0cm]             % left margin
    {\vspace{0.3cm}}                  % above code
    {\thecontentslabel \ } % numbered format
    {}         % unnumbered format
    {\titlerule*[0.3pc]{.}\contentspage}         % filler-page-format, e.g dots

\addtocontents{toc}{\protect\thispagestyle{empty}}
\tableofcontents 
\thispagestyle{empty}
\cleardoublepage

\renewcommand{\listfigurename}{DANH MỤC HÌNH VẼ}
{\let\oldnumberline\numberline
\renewcommand{\numberline}{Hình~\oldnumberline}
\listoffigures} 
\newpage

\renewcommand{\listtablename}{DANH MỤC BẢNG BIỂU}
{\let\oldnumberline\numberline
\renewcommand{\numberline}{Bảng~\oldnumberline}
\listoftables}

% ===================================================

\newpage
\pagenumbering{arabic}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[LO, RE]{\leftmark}
% Footer (chỉ 1 dòng, căn giữa)
\fancyfoot[C]{\thepage\hspace{3.5cm} IT4788 - PHÁT TRIỂN ỨNG DỤNG ĐA NỀN TẢNG}
\renewcommand{\headrulewidth}{0.3pt}
\renewcommand{\footrulewidth}{0.3pt}
\doublespacing

\chapter{GIỚI THIỆU ĐỀ TÀI}
\label{chapter:Introduction}
\subfile{Phan/1_Gioi_thieu} % Phần mở đầu

\newpage
\chapter{GIỚI THIỆU VỀ NGÔN NGỮ LẬP TRÌNH DART}
\label{chapter:Introduction_Dart_Programming}
\subfile{Phan/2_Gioi_thieu_Dart}

\newpage
\chapter{CÚ PHÁP CƠ BẢN CỦA NGÔN NGỮ DART}
\label{chapter:Dart_Syntax}
\subfile{Phan/3_Cu_phap_co_ban_}

\newpage
\chapter{LẬP TRÌNH HƯỚNG ĐỐI TƯỢNG TRONG DART}
\label{chapter:Experiment}
\subfile{Phan/4_OOP_trong_dart}

\newpage
\chapter{GIỚI THIỆU FRAMEWORK FLUTTER}
\label{chapter:SolutionAndContribution}
\subfile{Phan/5_Gioi_thieu_framework_flutter}

\cleardoublepage              % Bắt đầu một trang mới
\null                        
\thispagestyle{empty}        
\newpage                    


\titleformat{\chapter}[hang]{\centering\bfseries\large}{PHẦN \thechapter.\ }{0pt}{}[]

\chapter*{TÀI LIỆU THAM KHẢO}
\phantomsection
\addcontentsline{toc}{chapter}{TÀI LIỆU THAM KHẢO}
\subfile{Phan/6_Luu_y_tai_lieu_tham_khao}

\titlespacing*{\chapter}{0pt}{-20pt}{20pt}

\titlecontents{chapter}
    [0.0cm]             % left margin
    {\bfseries\vspace{0.3cm}}                  % above code
    {{\bfseries{\scshape} \thecontentslabel.\ }} % numbered format
    {}         % unnumbered format
    {\titlerule*[0.3pc]{.}\contentspage}         % filler-page-format, e.g dots

\end{document}